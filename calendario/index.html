<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">

<html>
    <head>
	    <meta charset="utf-8" />
<!--    <link type="text/css" rel="stylesheet" href="web2calbasicv202/css/optionalStyling.css"> 
        <link type="text/css" rel="stylesheet" href="web2calbasicv202/css/web2cal.css"> 

        <script src="web2calbasicv202/ext/jquery-1.3.2.min.js"> </script>
        <script src="web2calbasicv202/js/Web2Cal-Basic-2.0-min.js">  </script>
        <script src="web2calbasicv202/js/web2cal.support.js">  </script>
        <script src="web2calbasicv202/js/web2cal.default.template.js">  </script>
        <script src="web2calbasicv202/js/sampleData.js">  </script>
        <title>Web2Cal | Callbacks Demo</title>-->
    </head> 
    <body> 
    
    <h4><a target="_blank" href="web2calbasicv202/examples/callbacks.html">callbacks</a></h4>
    <h4><a target="_blank" href="web2calbasicv202/examples/customheaderdemo.html">customheaderdemo</a></h4>
    <h4><a target="_blank" href="web2calbasicv202/examples/customTemplates.html">customTemplates</a></h4>
    <h4><a target="_blank" href="web2calbasicv202/examples/editEvent.html">editEvent</a></h4>
    <h4><a target="_blank" href="web2calbasicv202/examples/healthclubdemo.html">healthclubdemo</a></h4>
    <h4><a target="_blank" href="web2calbasicv202/examples/JSONEventString.html">JSONEventString</a></h4>
    <h4><a target="_blank" href="web2calbasicv202/examples/languageSupport.html">languageSupport</a></h4>
    <h4><a target="_blank" href="web2calbasicv202/examples/mailcalendardemo.html">mailcalendardemo</a></h4>
    <h4><a target="_blank" href="web2calbasicv202/examples/parseIcal.html">parseIcal</a></h4>
    <h4><a target="_blank" href="web2calbasicv202/examples/publicFunctions.html">publicFunctions</a></h4>
    <h4><a target="_blank" href="web2calbasicv202/examples/readonlydemo.html">readonlydemo</a></h4>
    <h4><a target="_blank" href="web2calbasicv202/examples/settings.html">settings</a></h4>
    <h4><a target="_blank" href="web2calbasicv202/examples/settingsDemo.html">settingsDemo</a></h4>
    <h4><a target="_blank" href="web2calbasicv202/examples/simple.html">simple</a></h4>

    </body> 
</html>
<script>
    var ical;   
    /*
     Create the Calendar.
     */
    function buildCalendar()
    {  
        ical = new Web2Cal('calendarContainer', {
            loadEvents: 	loadCalendarEvents,
            onUpdateEvent: 	updateEvent, 
            onNewEvent: 	onNewEvent, 
			onPreview: 		onPreview
        });//Setup options...
		
        ical.build(); //build the calendar...
    }    
	var activeEvent;
    function onPreview(evt, dataObj, html)
	{
		activeEvent=dataObj;
		alert("Event Clicked");
		ical.showPreview(evt, html);
	}
    /*
     Method invoked when event is moved or resized
     @param event object containing eventID and newly updated Times
     */
    function updateEvent(event)
    { 
		alert("Event Date / Time Changed");
        ical.updateEvent(event);
    }
    
    /*
     Method invoked when creating a new event, before showing the new event form.
     @param obj - Object containing (startTime, endTime)
     @param groups - List of Group objects ({groupId, name})
     @param allday - boolean to indicate if the event created is allday event.
     */
    function onNewEvent(obj, groups, allday)
    {
		alert("Creating a new Event");
        Web2Cal.defaultPlugins.onNewEvent(obj, groups, allday); 
    }
    
    
    /**
     Method to get Events and display it in the calendar.
     If you need to make an asynchronous call, invoke ical.render in the callback method.
     @param startTime - Calendar Display Range start
     @para endTime - Calendar End Range end
     */
    function loadCalendarEvents(startTime, endTime)
    {
		alert("Callback to get Events.");
		 ical.render(getCalendarData());
    } 
    
    /*
     Click on Edit Button in preview window
     */
    function rzEditEvent()
    {
        alert("editing");
    }
    
    /**
     Clicking delete in Preview window
     */
    function rzDeleteEvent()
    {
		ical.deleteEvent({eventId: activeEvent.eventId});
		ical.hidePreview();
    }
    
    /**
     * Click of Add in add event box.
     */
    function rzAddEvent()
    {
        var newev = Web2Cal.defaultPlugins.getNewEventObject();
        ical.addEvent(newev);
    }
    
    /**
     * Onclick of Close in AddEvent Box.
     */
    function rzCloseAddEvent()
    {
        ical.closeAddEvent();
    } 
    /**
     * Once page is loaded, invoke the Load Calendar Script.
     */
    jQuery(document).ready(function()
    { 
	 	buildCalendar(); 
	 	//Setup Time controls...
		new Web2Cal.TimeControl(jQuery("#eventStartTime").get(0));
        new Web2Cal.TimeControl(jQuery("#eventEndTime").get(0), jQuery("#eventStartTime").get(0), {
            onTimeSelect: updateDateForTime,
            dateField: "eventEndDate"
        });
    });    
</script>